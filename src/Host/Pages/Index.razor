@page "/"

<PageTitle>Übersicht - Küstencode Werkbank</PageTitle>

<MudText Typo="Typo.h4" GutterBottom="true">Küstencode Werkbank</MudText>

<MudGrid>
    <MudItem xs="12" md="6">
        <MudPaper Class="pa-4" Elevation="2">
            <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="3">
                <MudIcon Icon="@Icons.Material.Filled.People" Size="Size.Large" Color="Color.Primary" />
                <MudStack Spacing="0">
                    <MudText Typo="Typo.h6">Kunden</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary">Kundenstammdaten verwalten</MudText>
                </MudStack>
            </MudStack>
            <MudButton Href="/customers" Variant="Variant.Text" Color="Color.Primary" Class="mt-3">
                Zur Kundenverwaltung
            </MudButton>
        </MudPaper>
    </MudItem>

    <MudItem xs="12" md="6">
        <MudPaper Class="pa-4" Elevation="2">
            <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="3">
                <MudIcon Icon="@Icons.Material.Filled.Business" Size="Size.Large" Color="Color.Primary" />
                <MudStack Spacing="0">
                    <MudText Typo="Typo.h6">Firmendaten</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary">Ihre Unternehmensdaten pflegen</MudText>
                </MudStack>
            </MudStack>
            <MudButton Href="/settings/company" Variant="Variant.Text" Color="Color.Primary" Class="mt-3">
                Zu den Firmendaten
            </MudButton>
        </MudPaper>
    </MudItem>
</MudGrid>

<MudText Typo="Typo.h5" Class="mt-6 mb-3">Module</MudText>

@if (!_modules.Any())
{
    <MudAlert Severity="Severity.Info" Class="mb-4">
        Module werden hier angezeigt, sobald sie registriert sind.
    </MudAlert>
}
else
{
    <MudGrid>
        @foreach (var module in _modules)
        {
            var moduleHref = GetModuleHref(module);
            <MudItem xs="12" sm="6" md="4">
                @if (!string.IsNullOrWhiteSpace(moduleHref))
                {
                    <MudLink Href="@moduleHref" Class="module-card-link">
                        <MudPaper Class="module-card module-card-vertical pa-3" Elevation="2">
                            <MudStack AlignItems="AlignItems.Center" Spacing="2">
                                @if (!string.IsNullOrWhiteSpace(module.LogoUrl))
                                {
                                    <MudImage Src="@module.LogoUrl"
                                              Alt="@module.DisplayName"
                                              Style="width: 200px; height: 200px; object-fit: contain;" />
                                }
                                else
                                {
                                    <MudIcon Icon="@Icons.Material.Filled.Apps" Size="Size.Large" Color="Color.Primary" />
                                }
                                <MudText Typo="Typo.subtitle1" Align="Align.Center">@module.DisplayName</MudText>
                            </MudStack>
                            <MudText Typo="Typo.caption" Color="Color.Secondary" Class="module-card-version">
                                @module.Version
                            </MudText>
                        </MudPaper>
                    </MudLink>
                }
                else
                {
                    <MudPaper Class="module-card module-card-vertical pa-3" Elevation="2">
                        <MudStack AlignItems="AlignItems.Center" Spacing="2">
                            @if (!string.IsNullOrWhiteSpace(module.LogoUrl))
                            {
                                <MudImage Src="@module.LogoUrl"
                                          Alt="@module.DisplayName"
                                          Style="width: 248px; height: 248px; object-fit: contain;" />
                            }
                            else
                            {
                                <MudIcon Icon="@Icons.Material.Filled.Apps" Size="Size.Large" Color="Color.Primary" />
                            }
                            <MudText Typo="Typo.subtitle1" Align="Align.Center">@module.DisplayName</MudText>
                        </MudStack>
                        <MudText Typo="Typo.caption" Color="Color.Secondary" Class="module-card-version">
                            @module.Version
                        </MudText>
                    </MudPaper>
                }
            </MudItem>
        }
    </MudGrid>
}
